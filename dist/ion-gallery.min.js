!function(){"use strict";function n(n,e,i){function o(n){var o=parseInt(n.ionGalleryRowSize),t=function(){n.ionGalleryRowSize=e.getRowSize(o||i.row_size,n.ionGalleryItems.length),n.actionLabel=i.action_label,n.responsiveGrid=parseInt(1/n.ionGalleryRowSize*100),e.addPositionToImages(n.ionGalleryItems)};t(),function(){n.$watch(function(){return n.ionGalleryItems.length},function(n,e){n!==e&&t()})}()}function t(n,e,o){n.customItemAction=angular.isFunction(n.ionItemAction)&&o.hasOwnProperty("ionItemAction"),n.ionSliderToggle="false"!==o.ionGalleryToggle&&i.toggle}return o.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRowSize:"=?ionGalleryRow",ionItemAction:"&?ionItemAction",ionZoomEvents:"=?ionZoomEvents"},controller:o,link:t,replace:!0,templateUrl:i.template_gallery}}angular.module("ion-gallery",["templates"]).directive("ionGallery",n),n.$inject=["$ionicPlatform","ionGalleryHelper","ionGalleryConfig"]}(),function(){"use strict";function n(){this.config={action_label:"Done",template_gallery:"gallery.html",template_slider:"slider.html",toggle:!0,row_size:3,fixed_row_size:!0,zoom_events:!0},this.$get=function(){return this.config},this.setGalleryConfig=function(n){angular.extend(this.config,this.config,n)}}angular.module("ion-gallery").provider("ionGalleryConfig",n),n.$inject=[]}(),function(){"use strict";function n(n){this.getRowSize=function(e,i){var o;return o=isNaN(e)===!0||e<=0?n.row_size:e>i&&!n.fixed_row_size?i:e},this.buildGallery=function(n,e){for(var i=[],o=-1,t=0,l=0;l<n.length;l++)l%e===0&&(o++,i[o]=[],t=0),n[l].position=l,i[o][t]=n[l],t++;return i},this.addPositionToImages=function(n){for(var e=0;e<n.length;e++)n[e].position=e}}angular.module("ion-gallery").service("ionGalleryHelper",n),n.$inject=["ionGalleryConfig"]}(),function(){"use strict";function n(){function n(n,e,i){var o=function(n,i){i>0&&(n.naturalHeight>=n.naturalWidth?e.attr("width","100%"):e.attr("height",e.parent()[0].offsetHeight+"px"))};e.bind("load",function(i){var t=this;e.parent()[0].offsetHeight>0&&o(this,e.parent()[0].offsetHeight),n.$watch(function(){return e.parent()[0].offsetHeight},function(n){o(t,n)})})}return{restrict:"A",link:n}}angular.module("ion-gallery").directive("ionImageScale",n),n.$inject=[]}(),function(){"use strict";function n(n){function e(n,e,i){n.$watch(function(){return n.ionGalleryRowSize},function(i,o){i>0&&e.css("height",e[0].offsetWidth*parseInt(n.responsiveGrid)/100+"px")})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionRowHeight",n),n.$inject=["ionGalleryConfig"]}(),function(){"use strict";function n(n,e){function i(i,o,t){var l=!1,r=function(){i.$emit("ZoomStarted")},s=function(n){l=!0,e(function(){l=!1,i.$emit("DoubleTapEvent",{x:n.gesture.touches[0].pageX,y:n.gesture.touches[0].pageY})},200)},a=function(n){l!==!0&&e(function(){l!==!0&&i.$emit("TapEvent")},200)},c=n.on("pinch",r,o),u=n.on("doubletap",function(n){s(n)},o),d=n.on("tap",a,o);i.$on("$destroy",function(){n.off(u,"doubletap",s),n.off(d,"tap",a),n.off(c,"pinch",r)})}return{restrict:"A",link:i}}angular.module("ion-gallery").directive("ionSlideAction",n),n.$inject=["$ionicGesture","$timeout"]}(),function(){"use strict";function n(n,e,i,o,t,l){function r(n){function l(){a=!1,c()}var r,s,a=(n.ionGalleryRowSize,!1);n.selectedSlide=1,n.hideAll=!1,n.ionZoomEvents=t.setZoomEvents(n.ionZoomEvents),n.openSlider=function(e){n.slides=[],s=e;var i=n.ionGalleryItems.length,t=e-1<0?i-1:e-1,l=e+1>=i?0:e+1;n.slides[0]=n.ionGalleryItems[t],n.slides[1]=n.ionGalleryItems[e],n.slides[2]=n.ionGalleryItems[l],r=1,o.slide(1),n.openModal()},n.slideChanged=function(e){if(e!==r){var o,t=n.slides.length-r-e,l=n.ionGalleryItems.length,a=r+">"+e;"0>1"===a||"1>2"===a||"2>0"===a?(s++,s>=l&&(s=0),o=s+1,o>=l&&(o=0)):"0>2"!==a&&"1>0"!==a&&"2>1"!==a||(s--,s<0&&(s=l-1),o=s-1,o<0&&(o=l-1)),n.ionZoomEvents===!0&&i.$getByHandle("slide-"+t).zoomTo(1),n.slides[t]=n.ionGalleryItems[o],r=e}},n.$on("ZoomStarted",function(i){e(function(){a=!0,n.hideAll=!0})}),n.$on("TapEvent",function(n){e(function(){c()})}),n.$on("DoubleTapEvent",function(n,i){e(function(){u(i)})});var c=function(){return a===!0?(n.ionZoomEvents===!0&&i.$getByHandle("slide-"+r).zoomTo(1,!0),void e(function(){l()},300)):void(n.hasOwnProperty("ionSliderToggle")&&n.ionSliderToggle===!1&&n.hideAll===!1||a===!0||(n.hideAll=!n.hideAll))},u=function(e){a===!1?(n.ionZoomEvents===!0&&i.$getByHandle("slide-"+r).zoomTo(3,!0,e.x,e.y),a=!0,n.hideAll=!0):c()}}function s(e,i,o){var t;n.fromTemplateUrl(l.template_slider,{scope:e,animation:"fade-in"}).then(function(n){t=n}),e.openModal=function(){t.show()},e.closeModal=function(){t.hide()},e.$on("$destroy",function(){try{t.remove()}catch(n){}})}return r.$inject=["$scope"],{restrict:"A",controller:r,link:s}}angular.module("ion-gallery").directive("ionSlider",n),n.$inject=["$ionicModal","$timeout","$ionicScrollDelegate","$ionicSlideBoxDelegate","ionSliderHelper","ionGalleryConfig"]}(),function(){"use strict";function n(n){this.setZoomEvents=function(e){return e===!1&&(n.zoom_events=!1),n.zoom_events}}angular.module("ion-gallery").service("ionSliderHelper",n),n.$inject=["ionGalleryConfig"]}(),angular.module("templates",[]).run(["$templateCache",function(n){n.put("gallery.html",'<div class="gallery-view">\r\n\r\n\t<div class="row unlimited-items" ng-class="\'row-size-\' + ionGalleryRowSize" ion-row-height>\r\n\t\t<div class="col col-{{responsiveGrid}}" ng-repeat="item in ionGalleryItems track by $index">\r\n\t\t\t<img ion-image-scale ng-src="{{item.thumb || item.src}}" ng-click="customItemAction ? ionItemAction({item: item}) : openSlider(item.position)">\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div ion-slider></div>\r\n</div>'),n.put("slider.html",'<ion-modal-view class="imageView">\r\n  <ion-header-bar class="headerView" ng-show="!hideAll">\r\n    <button class="button button-outline button-light close-btn" ng-click="closeModal()">{{::actionLabel}}</button>\r\n  </ion-header-bar>\r\n\r\n  <ion-content class="has-no-header" scroll="false">\r\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\r\n      <ion-slide ng-repeat="single in slides track by $index">\r\n        <ion-scroll direction="xy"\r\n                    locking="false"\r\n                    zooming="{{ionZoomEvents}}"\r\n                    min-zoom="1"\r\n                    scrollbar-x="false"\r\n                    scrollbar-y="false"\r\n                    ion-slide-action\r\n                    delegate-handle="slide-{{$index}}"\r\n                    overflow-scroll="false"\r\n                    >\r\n        <div class="item item-image gallery-slide-view">\r\n          <img ng-src="{{single.src}}">\r\n        </div>\r\n        <div ng-if="single.sub && single.sub.length > 0" class="image-subtitle" ng-show="!hideAll">\r\n            <span ng-bind-html=\'single.sub\'></span>\r\n        </div>\r\n        </ion-scroll>\r\n      </ion-slide>\r\n    </ion-slide-box>\r\n  </ion-content>\r\n</ion-modal-view>\r\n')}]);